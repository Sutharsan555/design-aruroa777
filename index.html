<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Project Area & Invoice Calculator</title>
  <meta name="theme-color" content="#0c3d42" />
  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="stylesheet" href="styles.css" />
  <!-- PDF Generation Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>

<body>
  <div class="app-shell">
    <header class="app-header">
      <div class="brand">
        <img src="logo.svg" alt="Design Aurora logo" class="brand-mark" />
        <div class="brand-text">
          <span class="brand-title">Design Aurora</span>
          <span class="brand-subtitle">Site ¬∑ Elevation ¬∑ Interior ¬∑ Invoice</span>
        </div>
      </div>
    </header>

    <main class="app-main">
      <!-- Package Selection -->
      <section class="card package-selection-card">
        <h2>Choose Your Design Package</h2>
        <p class="package-intro">Select the package that best suits your project needs.</p>

        <div class="package-selector">
          <div class="field">
            <label for="packageSelect">Design Package</label>
            <select id="packageSelect">
              <option value="">-- Select a package --</option>
              <option value="basic">Basic Package (‚Çπ15/sq ft)</option>
              <option value="standard">Standard Package (‚Çπ25/sq ft)</option>
              <option value="luxury">Luxury Package (‚Çπ40/sq ft)</option>
            </select>
          </div>
        </div>
      </section>

      <section class="card form-card">
        <div class="form-header">
          <h2>Project Details</h2>
          <div id="selectedPackageDisplay" class="selected-package-display" style="display: none;">
            <span class="package-label">Selected Package:</span>
            <span id="selectedPackageName" class="package-name"></span>
          </div>
        </div>
        <form id="calculator-form">
          <div class="grid two-cols">
            <div class="field">
              <label for="clientName">Client name</label>
              <input id="clientName" type="text" placeholder="e.g. John Doe" />
            </div>
            <div class="field">
              <label for="projectName">Project / Site name</label>
              <input id="projectName" type="text" placeholder="e.g. Villa Renovation" />
            </div>
          </div>

          <div class="grid three-cols">
            <div class="field">
              <label for="projectType">Project Type</label>
              <select id="projectType">
                <option value="full">Full Project (Interior + Exterior)</option>
                <option value="interior">Interior Only</option>
                <option value="exterior">Exterior Only</option>
              </select>
            </div>
            <div class="field">
              <label for="currency">Currency</label>
              <select id="currency">
                <option value="‚Çπ" selected>INR (‚Çπ)</option>
                <option value="$">USD ($)</option>
                <option value="‚Ç¨">EUR (‚Ç¨)</option>
              </select>
            </div>
            <div class="field">
              <label for="siteArea">Site area (sq ft)</label>
              <input id="siteArea" type="number" min="0" step="0.01" placeholder="e.g. 1500" required />
            </div>
          </div>

          <div class="grid two-cols">
            <div class="field">
              <label for="discount">Overall discount (%) <span id="discountPackageLabel"
                  class="package-indicator"></span></label>
              <input id="discount" type="number" min="5" max="10" step="0.1" value="5" />
              <p class="field-help" id="discountHelp">Standard client discount between 5% and 10%.</p>
            </div>
          </div>

          <h3 id="elevationHeading">Exterior/Elevation (Optional)</h3>
          <div class="grid three-cols">
            <div class="field">
              <label for="elevationArea">Elevation area (sq ft)</label>
              <input id="elevationArea" type="number" min="0" step="0.01"
                placeholder="Optional - leave empty if not needed" />
              <p class="field-help">Optional field. Leave empty if not applicable.</p>
            </div>
            <div class="field">
              <label for="elevationRate">Elevation rate (per sq ft)</label>
              <input id="elevationRate" type="number" min="0" step="0.01" placeholder="Optional" />
            </div>
            <div class="field">
              <label for="elevationNotes">Elevation notes (optional)</label>
              <input id="elevationNotes" type="text" placeholder="e.g. 3D front elevation" />
            </div>
          </div>

          <h3>Interior</h3>
          <div class="grid three-cols">
            <div class="field">
              <label for="interiorArea">Interior area (sq ft)</label>
              <input id="interiorArea" type="number" min="0" step="0.01" placeholder="Leave empty to use site area" />
              <p class="field-help">If empty, site area will be used.</p>
            </div>
            <div class="field">
              <label for="interiorRate">Interior rate (per sq ft)</label>
              <input id="interiorRate" type="number" min="0" step="0.01" value="20" />
            </div>
            <div class="field">
              <label for="interiorNotes">Interior notes (optional)</label>
              <input id="interiorNotes" type="text" placeholder="e.g. Modular kitchen, wardrobes" />
            </div>
          </div>

          <h3>Additional items (optional)</h3>
          <div id="extra-items" class="extra-items"></div>
          <button type="button" class="btn ghost" id="addItemBtn">+ Add item</button>

          <div class="actions">
            <button type="button" class="btn secondary" id="resetBtn">Clear</button>
            <button type="submit" class="btn primary">Calculate & Generate Invoice</button>
          </div>
        </form>
      </section>

      <section class="card invoice-card">
        <div class="invoice-header">
          <div class="invoice-brand">
            <img src="logo.svg" alt="Design Aurora logo" class="brand-mark" />
            <div>
              <h2>Invoice</h2>
              <p class="invoice-meta" id="invoiceProject">Project: ‚Äì</p>
              <p class="invoice-meta" id="invoiceClient">Client: ‚Äì</p>
            </div>
          </div>
          <div class="invoice-meta-group">
            <p class="invoice-meta" id="invoiceDate"></p>
            <p class="invoice-meta" id="invoiceId"></p>
            <img src="stamp.svg" alt="Company Stamp" class="company-stamp" id="companyStamp" style="display: none;" />
          </div>
        </div>

        <table class="invoice-table">
          <thead>
            <tr>
              <th>Description</th>
              <th class="numeric">Area (sq ft)</th>
              <th class="numeric">Rate</th>
              <th class="numeric">Amount</th>
            </tr>
          </thead>
          <tbody id="invoiceBody">
            <tr class="placeholder-row">
              <td colspan="4">Fill in project details and click ‚ÄúCalculate & Generate Invoice‚Äù.</td>
            </tr>
          </tbody>
        </table>

        <div class="invoice-summary">
          <div class="summary-row">
            <span>Subtotal</span>
            <span id="subtotalValue">‚Äì</span>
          </div>
          <div class="summary-row">
            <span>Discount</span>
            <span id="discountValue">‚Äì</span>
          </div>
          <div class="summary-row total">
            <span>Total</span>
            <span id="totalValue">‚Äì</span>
          </div>
        </div>

        <div class="invoice-footer">
          <p id="invoiceNotes" class="invoice-notes"></p>
          <div class="invoice-actions">
            <button class="btn outline" id="printBtn">Print / Save as PDF</button>
            <button class="btn primary" id="downloadPdfBtn" style="display: none;">üìÑ Download PDF for Client</button>
          </div>
        </div>

        <div class="invoice-terms" id="invoiceTerms">
          <h4>Terms & Conditions</h4>
          <div id="invoiceRulesList"></div>
        </div>
      </section>

      <!-- Package Banner for Client -->
      <section class="card package-banner-card" id="packageBannerCard" style="display: none;">
        <div class="banner-header">
          <h2>üì¶ Package Summary for Client</h2>
          <p class="banner-subtitle">Professional package presentation</p>
        </div>

        <div class="package-banner" id="packageBanner">
          <div class="banner-top">
            <div class="banner-logo">
              <img src="logo.svg" alt="Design Aurora" class="banner-logo-img" />
              <div class="banner-company">
                <h3>Design Aurora</h3>
                <p>Architectural Design Services</p>
              </div>
            </div>
            <div class="banner-package-badge" id="bannerPackageBadge"></div>
          </div>

          <div class="banner-content">
            <div class="banner-client-info" id="bannerClientInfo"></div>

            <div class="banner-package-details" id="bannerPackageDetails"></div>

            <div class="banner-pricing" id="bannerPricing"></div>

            <div class="banner-features" id="bannerFeatures"></div>
          </div>

          <div class="banner-footer">
            <p>Thank you for choosing Design Aurora</p>
            <div class="banner-stamp-area">
              <img src="stamp.svg" alt="Official Stamp" class="banner-stamp" />
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer class="app-footer">
      <span>Designed for architects & interior designers</span>
    </footer>
  </div>

  <!-- Package Confirmation Modal -->
  <div id="packageModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Confirm Package Selection</h2>
        <button type="button" class="modal-close" id="closeModal">&times;</button>
      </div>
      <div class="modal-body">
        <div class="modal-package-name" id="modalPackageName"></div>
        <div class="modal-package-price" id="modalPackagePrice"></div>

        <h3>What's Included</h3>
        <ul class="modal-features" id="modalFeatures"></ul>

        <h3>Package Rules</h3>
        <div class="modal-rules" id="modalRules"></div>

        <div class="modal-alert">
          <strong>Please note:</strong> By confirming this package, the rates will be preset according to the package
          tier. You can still customize other project details.
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn secondary" id="cancelPackage">Cancel</button>
        <button type="button" class="btn primary" id="confirmPackage">Confirm & Continue</button>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>

</html>